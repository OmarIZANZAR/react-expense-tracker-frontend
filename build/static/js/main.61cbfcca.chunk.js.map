{"version":3,"sources":["context/reducer.js","context/actions.js","context/GlobalState.js","components/AddTransaction.js","components/Balance.js","components/Header.js","components/IncomeExpense.js","components/Transaction.js","components/TransactionList.js","App.js","index.js"],"names":["state","action","type","transactions","payload","filter","tr","_id","error","server_uri","process","initialState","balance","income","expense","GlobalContext","createContext","GlobalProvider","children","useReducer","reducer","dispatch","a","fetch","res","json","body","data","console","log","message","transaction","method","headers","JSON","stringify","id","Provider","value","getTransactions","addTransaction","deleteTransaction","AddTransaction","useState","text","setText","amount","setAmount","useContext","className","onSubmit","e","preventDefault","parseFloat","placeholder","onChange","target","Balance","total","map","reduce","prv","cur","Intl","NumberFormat","style","currency","format","Header","IncomeExpense","x","b","Transaction","formatedAmount","onClick","TransactionList","useEffect","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61cbfcca.chunk.js","sourcesContent":["import * as Actions from './actions'\r\n\r\nexport default (state, action) => {\r\n    switch(action.type){\r\n        case Actions.GET_TRANSACTIONS: return {\r\n            ...state,\r\n            transactions: action.payload\r\n        };\r\n\r\n        case Actions.ADD_TRANSACTION: return {\r\n            ...state,\r\n            transactions: [action.payload, ...state.transactions]\r\n        };\r\n\r\n        case Actions.DELETE_TRANSACTION: return {\r\n            ...state,\r\n            transactions: state.transactions.filter( tr => tr._id !== action.payload)\r\n        };\r\n        \r\n        case Actions.TRANSACTION_ERROR: return {\r\n            ...state,\r\n            error: action.payload\r\n        };\r\n\r\n        default: return state;\r\n    }\r\n}","export const GET_TRANSACTIONS = 'GET_TRANSACTIONS'\r\nexport const DELETE_TRANSACTION = 'DELETE_TRANSACTION'\r\nexport const ADD_TRANSACTION = 'ADD_TRANSACTION'\r\nexport const TRANSACTION_ERROR = 'TRANSACTION_ERROR'","import React, {createContext, useReducer } from 'react'\r\nimport reducer from './reducer'\r\nimport * as Actions from './actions'\r\n\r\nconst server_uri = process.env.REACT_APP_SERVER_URI\r\n\r\n// Initial State\r\nconst initialState = {\r\n    balance: 0,\r\n    income: 0,\r\n    expense: 0,\r\n    transactions: [],\r\n    \r\n    error: null,\r\n}\r\n\r\n// Context\r\nexport const GlobalContext = createContext(initialState)\r\n\r\n// Provider\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n    async function getTransactions() {\r\n        try {\r\n            const res = await fetch(server_uri);\r\n            const body = await res.json()\r\n\r\n            if(body.error) throw body\r\n\r\n            dispatch({\r\n                type: Actions.GET_TRANSACTIONS,\r\n                payload: body.data\r\n            })      \r\n        } catch (error) {\r\n            console.log(\"GET_TRANSACTIONS_ERROR\", error)\r\n            dispatch({\r\n                type: Actions.TRANSACTION_ERROR,\r\n                payload: error.message\r\n            })\r\n        }\r\n    }\r\n\r\n    async function addTransaction(transaction){\r\n        try {\r\n            const res = await fetch(server_uri,{\r\n                method:'POST',\r\n                headers:{\r\n                    \"Accept\":'application/json, text/plain, */*',\r\n                    \"content-Type\":'application/json'\r\n                },\r\n                body: JSON.stringify(transaction)\r\n            })\r\n\r\n            const body = await res.json()\r\n\r\n            if(body.error) throw body\r\n\r\n            dispatch({\r\n                type: Actions.ADD_TRANSACTION,\r\n                payload: body.data\r\n            })\r\n        } catch (error) {\r\n            console.log(\"ADD_TRANSACTION_ERROR\", error)\r\n            dispatch({\r\n                type: Actions.TRANSACTION_ERROR,\r\n                payload: error.message\r\n            })\r\n        }  \r\n    }\r\n\r\n    async function deleteTransaction(id) {\r\n        try {\r\n            const res = await fetch(server_uri + id, {method:'DELETE'})\r\n            const body = await res.json()\r\n\r\n            if(body.error) throw body\r\n\r\n            dispatch({\r\n                type: Actions.DELETE_TRANSACTION,\r\n                payload: id\r\n            })\r\n        } catch (error) {\r\n            console.log(\"DELETE_TRANSACTION_ERROR\", error)\r\n            dispatch({\r\n                type: Actions.TRANSACTION_ERROR,\r\n                payload: error.message\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <GlobalContext.Provider value={{\r\n            ...state,\r\n            getTransactions,\r\n            addTransaction,\r\n            deleteTransaction,\r\n        }}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    )\r\n}","import React, {useState , useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState'\r\n\r\nconst AddTransaction = () => {\r\n    const [text, setText] = useState('')\r\n    const [amount, setAmount] = useState('')\r\n    const { addTransaction } = useContext(GlobalContext)\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        if( !amount || !text ) return\r\n\r\n        addTransaction({\r\n            text: text,\r\n            amount: parseFloat(amount),\r\n        })\r\n        setText('')\r\n        setAmount('')\r\n    }\r\n\r\n    return (\r\n        <div className='add-transaction'>\r\n            <h3>Add new transaction</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"form-control\">\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Enter text\" \r\n                        value={text} \r\n                        onChange={e => setText(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-control\">\r\n                    <input \r\n                        type=\"number\" \r\n                        placeholder=\"Enter amount (-) expense\" \r\n                        value={amount}\r\n                        onChange={e => setAmount(e.target.value)}\r\n                    />\r\n                </div>\r\n                <button className=\"btn\">Add transaction</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddTransaction","import React, {useContext} from 'react'\r\nimport  {GlobalContext} from '../context/GlobalState'\r\n\r\nconst Balance = () => {\r\n    const { transactions } = useContext(GlobalContext)\r\n    const amounts = transactions.map( transaction => transaction.amount )\r\n\r\n    const total = amounts.reduce(( prv, cur ) => prv + cur, 0)\r\n\r\n    return (\r\n        <div className='balance'>\r\n            <h3>Your balance</h3>\r\n            <h1>{new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' }).format(total)}</h1>      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Balance","import React from 'react'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <h2 className='header'>\r\n            Expense Tracker\r\n        </h2>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, {useContext} from 'react'\r\nimport  {GlobalContext} from '../context/GlobalState'\r\n\r\nconst IncomeExpense = () => {\r\n    const { transactions } = useContext(GlobalContext)\r\n    const income = transactions.map(tr => tr.amount).filter( x => x > 0 ).reduce((a,b) => a + b, 0)\r\n    const expense = transactions.map(tr => tr.amount).filter( x => x < 0 ).reduce((a,b) => a + b, 0)\r\n\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n            <div>\r\n                <h4>Income</h4>\r\n                <p className=\"money plus\" >{new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' }).format(income)}</p>\r\n            </div>\r\n            <div>\r\n                <h4>Expense</h4>\r\n                <p className=\"money minus\" >{new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' }).format(expense)}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IncomeExpense\r\n","import React, {useContext} from 'react'\r\nimport  {GlobalContext} from '../context/GlobalState'\r\n\r\nconst Transaction = ({transaction}) => {\r\n    const { deleteTransaction } = useContext(GlobalContext)\r\n    \r\n    const formatedAmount = new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' }).format(transaction.amount)\r\n\r\n    return (\r\n        \r\n        <li className={ transaction.amount > 0 ? 'plus' : 'minus' } >\r\n            <button className=\"delete-btn\" onClick={() => deleteTransaction(transaction._id)} >x</button>\r\n            <div>\r\n                {transaction.text}\r\n                <span>\r\n                    {formatedAmount}\r\n                </span>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Transaction\r\n","import React , {useContext , useEffect} from 'react'\r\nimport  {GlobalContext} from '../context/GlobalState'\r\nimport Transaction from './Transaction'\r\n\r\nconst TransactionList = () => {\r\n    const { transactions, getTransactions} = useContext(GlobalContext)\r\n\r\n    useEffect( ()=>{\r\n        getTransactions()\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>History</h3>\r\n            <ul className=\"list\">\r\n                {transactions.map((transaction) => ( <Transaction transaction={transaction} key={transaction._id}/> ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import React from 'react'\nimport './App.css'\n\nimport { \n  Header, \n  Balance, \n  IncomeExpense, \n  TransactionList, \n  AddTransaction\n} from './components'\n\nconst App = () => {\n  return (\n    <>\n      <div className=\"container\">\n        <Header />\n        <Balance />\n        <IncomeExpense />\n        <AddTransaction />\n        <TransactionList />\n      </div>\n    </>\n  )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport {GlobalProvider} from './context/GlobalState'\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalProvider>\n      <App />\n    </GlobalProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}