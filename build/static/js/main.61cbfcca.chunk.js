(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),l=n.n(c),u=(n(15),n(4)),o=n(2),s=n.n(o),i=n(1),m=n(6),p=n(9),E=function(e,t){switch(t.type){case"GET_TRANSACTIONS":return Object(i.a)(Object(i.a)({},e),{},{transactions:t.payload});case"ADD_TRANSACTION":return Object(i.a)(Object(i.a)({},e),{},{transactions:[t.payload].concat(Object(p.a)(e.transactions))});case"DELETE_TRANSACTION":return Object(i.a)(Object(i.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"TRANSACTION_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.payload});default:return e}},d="https://expense-tracker-server.onrender.com/api/v1/transactions/",f={balance:0,income:0,expense:0,transactions:[],error:null},b=Object(a.createContext)(f),O=function(e){var t=e.children,n=Object(a.useReducer)(E,f),c=Object(u.a)(n,2),l=c[0],o=c[1];function p(){return(p=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d);case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).error){e.next=9;break}throw n;case 9:o({type:"GET_TRANSACTIONS",payload:n.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("GET_TRANSACTIONS_ERROR",e.t0),o({type:"TRANSACTION_ERROR",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function O(){return(O=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d,{method:"POST",headers:{Accept:"application/json, text/plain, */*","content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(a=e.sent).error){e.next=9;break}throw a;case 9:o({type:"ADD_TRANSACTION",payload:a.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("ADD_TRANSACTION_ERROR",e.t0),o({type:"TRANSACTION_ERROR",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(){return(y=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+t,{method:"DELETE"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(a=e.sent).error){e.next=9;break}throw a;case 9:o({type:"DELETE_TRANSACTION",payload:t}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("DELETE_TRANSACTION_ERROR",e.t0),o({type:"TRANSACTION_ERROR",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return r.a.createElement(b.Provider,{value:Object(i.a)(Object(i.a)({},l),{},{getTransactions:function(){return p.apply(this,arguments)},addTransaction:function(e){return O.apply(this,arguments)},deleteTransaction:function(e){return y.apply(this,arguments)}})},t)},y=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(u.a)(l,2),s=o[0],i=o[1],m=Object(a.useContext)(b).addTransaction;return r.a.createElement("div",{className:"add-transaction"},r.a.createElement("h3",null,"Add new transaction"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s&&n&&(m({text:n,amount:parseFloat(s)}),c(""),i(""))}},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Enter text",value:n,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"number",placeholder:"Enter amount (-) expense",value:s,onChange:function(e){return i(e.target.value)}})),r.a.createElement("button",{className:"btn"},"Add transaction")))},N=function(){var e=Object(a.useContext)(b).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",{className:"balance"},r.a.createElement("h3",null,"Your balance"),r.a.createElement("h1",null,new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(e)))},T=function(){return r.a.createElement("h2",{className:"header"},"Expense Tracker")},h=function(){var e=Object(a.useContext)(b).transactions,t=e.map((function(e){return e.amount})).filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),n=e.map((function(e){return e.amount})).filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",{className:"inc-exp-container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Income"),r.a.createElement("p",{className:"money plus"},new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(t))),r.a.createElement("div",null,r.a.createElement("h4",null,"Expense"),r.a.createElement("p",{className:"money minus"},new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(n))))},v=function(e){var t=e.transaction,n=Object(a.useContext)(b).deleteTransaction,c=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(t.amount);return r.a.createElement("li",{className:t.amount>0?"plus":"minus"},r.a.createElement("button",{className:"delete-btn",onClick:function(){return n(t._id)}},"x"),r.a.createElement("div",null,t.text,r.a.createElement("span",null,c)))},x=function(){var e=Object(a.useContext)(b),t=e.transactions,n=e.getTransactions;return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",null,r.a.createElement("h3",null,"History"),r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement(v,{transaction:e,key:e._id})}))))},R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(T,null),r.a.createElement(N,null),r.a.createElement(h,null),r.a.createElement(y,null),r.a.createElement(x,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null,r.a.createElement(R,null))),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.61cbfcca.chunk.js.map